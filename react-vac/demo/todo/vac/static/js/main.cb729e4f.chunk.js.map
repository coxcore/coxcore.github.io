{"version":3,"sources":["store/todo.js","components/TodoContainer.jsx","index.js","components/TodoContainer.module.scss"],"names":["TodoStore","_target","_update","list","setState","localStorage","setItem","JSON","stringify","observer","target","parse","getItem","getList","state","addItem","value","newList","id","Date","now","checked","deleteItem","filter","length","checkItem","changed","map","data","index","clear","TodoContainer","props","UNSAFE_componentWillMount","todo","getItemProps","onCheck","onDelete","store","todoInputProps","this","onChange","event","onSubmit","todoListProps","each","className","style","container","title","name","useValue","useList","useEach","React","Component","rootEl","document","getElementById","App","render","module","exports"],"mappings":"mOAAMA,EACF,aAAe,IAAD,gCAEdC,QAAU,KAFI,KAIdC,QAAU,WAAgB,IAAfC,EAAc,uDAAP,GACT,EAAKF,UAIV,EAAKA,QAAQG,SAAS,CAAED,KAAMA,IAC9BE,aAAaC,QAAQ,OAAQC,KAAKC,UAAUL,MAVlC,KAadM,SAAW,SAACC,GACR,EAAKT,QAAUS,EAEf,EAAKT,QAAQG,SAAS,CAClBD,KAAMI,KAAKI,MAAMN,aAAaO,QAAQ,UAAY,MAjB5C,KAqBdC,QAAU,kBAAO,EAAKZ,QAAU,EAAKA,QAAQa,MAAMX,KAAO,IArB5C,KAuBdY,QAAU,SAACC,GACP,GAAKA,EAAL,CAIA,IAAMb,EAAO,EAAKU,UACZI,EAAO,sBAAOd,GAAP,CAAa,CAAEe,GAAIC,KAAKC,MAAOJ,QAAOK,SAAS,KAE5D,EAAKnB,QAAQe,KA/BH,KAkCdK,WAAa,SAACJ,GACV,IAAMf,EAAO,EAAKU,UACZI,EAAUd,EAAKoB,QAAO,qBAAGL,KAA4BA,KAEvDf,EAAKqB,SAAWP,EAAQO,QACxB,EAAKtB,QAAQe,IAvCP,KA2CdQ,UAAY,SAACP,GACT,IAAIQ,GAAU,EAERT,EADO,EAAKJ,UACGc,KAAI,SAACC,EAAMC,GAC5B,OAAID,EAAKV,KAAOA,GACZQ,GAAU,EAEH,CAAER,GADsBU,EAAvBV,GACKF,MADkBY,EAAnBZ,MACQK,SADWO,EAAZP,UAGhBO,KAGPF,GACA,EAAKxB,QAAQe,IAxDP,KA4Dda,MAAQ,WACJ,EAAK5B,QAAQ,MAMN,EAFA,kBAAM,IAAIF,G,uBCaV+B,E,kDAvEX,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAgBVC,0BAA4B,WACxB,EAAKC,KAAKzB,SAAV,iBAlBe,EAsBnB0B,aAAe,WAAyBN,GAAzB,IAAGX,EAAH,EAAGA,GAAIF,EAAP,EAAOA,MAAOK,EAAd,EAAcA,QAAd,MAAoC,CAC/CH,KACAF,QACAK,UACAe,QAAS,kBAAM,EAAKX,UAAUP,IAC9BmB,SAAU,kBAAM,EAAKf,WAAWJ,MAxBhC,EAAKJ,MAAQ,CACTX,KAAM,GACNa,MAAO,IAGX,EAAKkB,KAAOI,EAAA,gBAEZ,EAAKzB,QAAU,EAAKqB,KAAKrB,QACzB,EAAKE,QAAU,EAAKmB,KAAKnB,QACzB,EAAKU,UAAY,EAAKS,KAAKT,UAC3B,EAAKH,WAAa,EAAKY,KAAKZ,WAC5B,EAAKQ,MAAQ,EAAKI,KAAKJ,MAdR,E,qDA8BT,IAAD,OAECS,EAAiB,CACnBvB,MAAOwB,KAAK1B,MAAME,MAClByB,SAAU,SAACC,GAAD,OAAW,EAAKtC,SAAS,CAAEY,MAAO0B,EAAMhC,OAAOM,SACzD2B,SAAU,WACN,EAAK5B,QAAQ,EAAKD,MAAME,OACxB,EAAKZ,SAAS,CAAEY,MAAO,OAKzB4B,EAAgB,CAClBzC,KAAMqC,KAAK3B,UACXgC,KAAML,KAAKL,cAGf,OACI,sBAAKW,UAAWC,IAAMC,UAAtB,UACI,oBAAIF,UAAWC,IAAME,MAArB,uBAGA,cAAC,IAAD,CACIC,KAAK,YACLtB,KAAMW,EACNY,SAAS,QACTV,SAAS,aAIb,cAAC,IAAD,CACIS,KAAK,WACLtB,KAAMgB,EACNQ,QAAQ,OACRC,QAAQ,gB,GAjEAC,IAAMC,WCF5BC,EAASC,SAASC,eAAe,QAEjCC,EAAM,cAAC,EAAD,IAEZC,iBAAOD,EAAKH,I,kBCRZK,EAAOC,QAAU,CAAC,MAAQ,6BAA6B,UAAY,oC","file":"static/js/main.cb729e4f.chunk.js","sourcesContent":["class TodoStore {\n    constructor() {}\n\n    _target = null;\n\n    _update = (list = []) => {\n        if (!this._target) {\n            return;\n        }\n\n        this._target.setState({ list: list });\n        localStorage.setItem('list', JSON.stringify(list));\n    };\n\n    observer = (target) => {\n        this._target = target;\n\n        this._target.setState({\n            list: JSON.parse(localStorage.getItem('list')) || [],\n        });\n    };\n\n    getList = () => (this._target ? this._target.state.list : []);\n\n    addItem = (value) => {\n        if (!value) {\n            return;\n        }\n\n        const list = this.getList();\n        const newList = [...list, { id: Date.now(), value, checked: false }];\n\n        this._update(newList);\n    };\n\n    deleteItem = (id) => {\n        const list = this.getList();\n        const newList = list.filter(({ id: itemId }) => itemId !== id);\n\n        if (list.length !== newList.length) {\n            this._update(newList);\n        }\n    };\n\n    checkItem = (id) => {\n        let changed = false;\n        const list = this.getList();\n        const newList = list.map((data, index) => {\n            if (data.id === id) {\n                changed = true;\n                const { id, value, checked } = data;\n                return { id, value, checked: !checked };\n            }\n            return data;\n        });\n\n        if (changed) {\n            this._update(newList);\n        }\n    };\n\n    clear = () => {\n        this._update([]);\n    };\n}\n\nconst create = () => new TodoStore();\n\nexport default {\n    create,\n};\n","import React from 'react';\nimport store from '../store/todo';\nimport VAC from 'react-vac';\n// import TodoInput from './TodoInput';\n// import TodoList from './TodoList';\nimport style from './TodoContainer.module.scss';\n\nclass TodoContainer extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            list: [],\n            value: '',\n        };\n\n        this.todo = store.create(this);\n\n        this.getList = this.todo.getList; // this.getList();\n        this.addItem = this.todo.addItem; // this.addItem('할일');\n        this.checkItem = this.todo.checkItem; // this.checkItem('id');\n        this.deleteItem = this.todo.deleteItem; // this.removeItem('id');\n        this.clear = this.todo.clear; // this.clear();\n    }\n\n    UNSAFE_componentWillMount = () => {\n        this.todo.observer(this);\n    };\n\n    // 리스트 아이템 컴포넌트의 props 변환용 콜백함수\n    getItemProps = ({ id, value, checked }, index) => ({\n        id,\n        value,\n        checked,\n        onCheck: () => this.checkItem(id),\n        onDelete: () => this.deleteItem(id),\n    });\n\n    render() {\n        // TodoInput props object\n        const todoInputProps = {\n            value: this.state.value,\n            onChange: (event) => this.setState({ value: event.target.value }),\n            onSubmit: () => {\n                this.addItem(this.state.value);\n                this.setState({ value: '' });\n            },\n        };\n\n        // TodoList props object\n        const todoListProps = {\n            list: this.getList(),\n            each: this.getItemProps,\n        };\n\n        return (\n            <div className={style.container}>\n                <h1 className={style.title}>Todo List</h1>\n\n                {/* <TodoInput {...todoInputProps} /> */}\n                <VAC\n                    name=\"TodoInput\"\n                    data={todoInputProps}\n                    useValue=\"value\"\n                    onChange=\"onChange\"\n                />\n\n                {/* <TodoList {...todoListProps} /> */}\n                <VAC\n                    name=\"TodoLIst\"\n                    data={todoListProps}\n                    useList=\"list\"\n                    useEach=\"each\"\n                />\n            </div>\n        );\n    }\n}\n\nexport default TodoContainer;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport './scss/global.scss';\nimport TodoContainer from './components/TodoContainer';\n\nconst rootEl = document.getElementById('root');\n\nconst App = <TodoContainer />;\n\nrender(App, rootEl);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"TodoContainer_title__RjrxK\",\"container\":\"TodoContainer_container__L-1Hm\"};"],"sourceRoot":""}